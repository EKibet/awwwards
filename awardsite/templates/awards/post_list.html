{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<style>
    /* Global */


    img {
        max-width: 100%;
    }

    .hovereffect {
        width: 100%;
        height: 100%;
        float: left;
        overflow: hidden;
        position: relative;
        text-align: center;
        cursor: default;
    }

    .hovereffect .overlay {
        width: 100%;
        height: 100%;
        position: absolute;
        overflow: hidden;
        top: 0;
        left: 0;
        opacity: 0;
        filter: alpha(opacity=0);
        background-color: rgba(0, 0, 0, 0.5);
        -webkit-transition: all 0.4s cubic-bezier(0.88, -0.99, 0, 1.81);
        transition: all cubic-bezier(0.19, 1, 0.22,  1) cubic-bezier(0.88, -0.99, 0, 1.81);
    }

    .hovereffect img {
        display: block;
        position: relative;
        -webkit-transition: all 0.4s cubic-bezier(0.88, -0.99, 0, 1.81);
        transition: all 0.4s cubic-bezier(0.88, -0.99, 0, 1.81);
    }

    .hovereffect h2 {
        text-transform: uppercase;
        color: #fff;
        text-align: center;
        position: relative;
        font-size: 17px;
        background: rgba(0, 0, 0, 0.6);
        -webkit-transform: translatey(-100px);
        -ms-transform: translatey(-100px);
        transform: translatey(-100px);
        -webkit-transition: all 0.4s cubic-bezier(0.88, -0.99, 0, 1.81);
        transition: all 0.4s cubic-bezier(0.88, -0.99, 0, 1.81);
        padding: 10px;
    }

    .hovereffect a.info {
        text-decoration: none;
        display: inline-block;
        text-transform: uppercase;
        color: #fff;
        border: 1px solid #fff;
        background-color: transparent;
        opacity: 0;
        filter: alpha(opacity=0);
        -webkit-transition: all 0.4s ease;
        transition: all 0.4s ease;
        margin: 50px 0 0;
        padding: 7px 14px;
    }

    .hovereffect a.info:hover {
        box-shadow: 0 0 5px #fff;
    }

    .hovereffect:hover img {
        -ms-transform: scale(1.2);
        -webkit-transform: scale(1.2);
        transform: scale(1.2);
    }

    .hovereffect:hover .overlay {
        opacity: 1;
        filter: alpha(opacity=100);
    }

    .hovereffect:hover h2,
    .hovereffect:hover a.info {
        opacity: 1;
        filter: alpha(opacity=100);
        -ms-transform: translatey(0);
        -webkit-transform: translatey(0);
        transform: translatey(0);
    }

    .hovereffect:hover a.info {
        -webkit-transition-delay: .2s;
        transition-delay: .2s;
    }
</style>

{% for post in posts %}

<div class=" container-fluid header" style="background-image: url('https://images.unsplash.com/photo-1538501525968-4a16deec3f83?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=5901d039376e0092fd905186717bc08e&auto=format&fit=crop&w=1500&q=80');background-position: center;background-repeat: no-repeat;background-size: cover;position: relative;height: 700px;bottom: 10px;";
>

    {%endfor %}


    <section class="sect ">
        <div>
            <h3 style="text-align: center; position: relative;font-size:50px;color: white; top:1opx ">Elim Chan</h3>
            <h4 style="color: lightblue; text-align: center;font-size: 30px;bottom: 5px;">By Lama lama from Kenya</h4>
            <div class="box-piesite">

                <ul>
                    <li class="design">
                        <div class="piesite" id="pie_0" data-pie="2.04"></div>
                    </li>
                    <li class="usability">
                        <div class="piesite" id="pie_2" data-pie="5.00"></div>
                    </li>
                    <li class="creativity">
                        <div class="piesite" id="pie_1" data-pie="2.00"></div>
                    </li>

                </ul>
            </div>
        </div>
    </section>
</div>

<div class="row">
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;

</div>
<div class="row" style="position: relative; height: 150px;">
<p style="color: black; position: relative; right: 10%;font-size: 30px;top:10px;"><strong>Site Of The Day </strong>Previous Winners</p>
</div>
<div class="container-fluid row">
    {% for post in posts %}

    <div class="col-md-4">
        <div class="card" >
            <div class="hovereffect" style="background-color:#ffffff">
                <a href="#"><img src="{{post.screenshot1.url}}" alt="" style="height:300px;width:410px;"></a>
                <br><br>
                <div class="overlay">
                    <a class="info" href="#" style="-moz-border-radius:28px;-webkit-border-radius:28px; border-radius:28px; float:right">Collect</a>
                    <a class="info" href="#" style="-moz-border-radius:28px;-webkit-border-radius:28px; border-radius:28px; float:right"> <img src="https://png.icons8.com/ios-glyphs/50/ffffff/hearts.png" height="10px;">{{ post.vote_count  }}</a>
                </div>
                

            </div>
            <div>

                <small>By: {{post.site_name}}</small><br>
                <small><a href="{% url 'add_design' post.id %}"> <button class="btn">Rate Site By Design</button>
                    </a></small>
                    <small><a href="{% url 'review_content' post.id %}"> <button class="btn">Rate Site By Content</button>
                    </a></small>                <small><a href="{% url 'review_usability' post.id %}"> <button class="btn">Rate Site By Usability</button>
                    </a></small>
                    <h5>{{ post.desing.count }} Design  ({{ post.average_design | floatformat }} average rating)</h5>
                    <h5>{{ post.content.count }} Content  ({{ post.average_content | floatformat }} average rating)</h5>
                    <h5>{{ post.content.count }} Content  ({{ post.average_usability | floatformat }} average rating)</h5>

                    {% for review in post.rating_set.all %}
                           <small> <em>{{ review.comment }}</em></small>
                            <h6>Rated {{ review.rating }} of 5 by {{ review.user_name }}</h6>
                        
                            </a></h5>
                        </div>
                        {% endfor %}
                <br>
                <h6 style="border-bottom: 1px solid #D3D9D4"></h6>

            </div>
        </div>
    </div>


    {% endfor %}
</div>
</div>
</div>
</div>

{% endblock %}